{% layout settings.customer_layout %}

<vc-account-manager base-url="baseUrl" customer="customer"></vc-account-manager>
<hr class="hr--small">

<script id="account-manager.tpl" type="text/ng-template">
    <div class="vc-form grid">
        <div class="ajax-informer" ng-class="{ 'fade': $ctrl.loader.isLoading }">
            <div class="loader"></div>
            <span>{{ 'general.loading' | t }}</span>
        </div>
        <vc-breadcrumbs router="$$ngOutlet.$$router"></vc-breadcrumbs>
        <header class="section-header clearfix">
            <div class="section-header--right">
                {% include 'toggle-dashboard' %}
            </div>
        </header>
        <aside id="dashboard" class="grid-item large--one-fifth grid-border--bottom">
            <div class="grid-uniform">
                <div class="grid-item">
                    <h3 class="nav-title">{{ 'customer.account.title' | t }}</h3>
                </div>
                <ul class="nav nav-pills nav-justified nav-justified-fixed grid-item">
                    <li ng-class="{active: $$ngOutlet.$$componentName === 'vcAccountProfileUpdate'}">
                        <a ng-link="['Profile']">{{ 'customer.account.menu_label.profile' | t }}</a>
                    </li>
                    <li ng-class="{active: $$ngOutlet.$$componentName === 'vcAccountAddresses'}">
                        <a ng-link="['Addresses']">{{ 'customer.account.menu_label.addresses' | t }}</a>
                    </li>
                    <li ng-class="{active: $$ngOutlet.$$componentName === 'vcAccountPasswordChange'}">
                        <a ng-link="['PasswordChange']">{{ 'customer.account.menu_label.change_password' | t }}</a>
                    </li>
                    <li ng-class="{active: $$ngOutlet.$$componentName === 'vcAccountOrders'}">
                        <a ng-link="['Orders']">{{ 'customer.account.menu_label.orders' | t }}</a>
                    </li>
                    {% if shop.subscription_enabled %}
                    <li ng-class="{active: $$ngOutlet.$$componentName === 'vcAccountSubscriptions'}">
                        <a ng-link="['Subscriptions']">{{ 'customer.account.menu_label.subscriptions' | t }}</a>
                    </li>
                    {% endif %}
                    {% if shop.quotes_enabled %}
                    <li ng-class="{active: $$ngOutlet.$$componentName === 'vcAccountQuotes'}">
                        <a ng-link="['Quotes']">{{ 'customer.account.menu_label.quotes' | t }}</a>
                    </li>
                    {% endif %}          
                </ul>
                <div class="grid-item">
                    <h3 class="nav-title">{{ 'customer.account.corporate' | t }}</h3>
                </div>
                <ul class="nav nav-pills nav-justified nav-justified-fixed grid-item">
                    {% if customer.is_corporate_account %}
                    <li ng-class="{active: $$ngOutlet.$$componentName === 'vcAccountCompanyInfo'}" va-permission="storefront:companyInfo:access">
                        <a ng-link="['CompanyInfo']">{{ 'customer.account.menu_label.company_info' | t }}</a>
                    </li>
                    <li ng-class="{active: $$ngOutlet.$$componentName === 'vcAccountCompanyMembers'}" va-permission="storefront:companyMembers:access">
                        <a ng-link="['CompanyMembers']">{{ 'customer.account.menu_label.company_members' | t }}</a>
                    </li>
                    <li ng-class="{active: $$ngOutlet.$$componentName === 'vcAccountRoles'}">
                        <a ng-link="['Roles']">{{ 'customer.account.menu_label.roles' | t }}</a>
                    </li>
                    {% endif %}
                </ul>
            </div>
        </aside>
        <hr class="hr--grid-border"/>
        <div class="grid-item large--four-fifths">
            <ng-outlet></ng-outlet>
        </div>
    </div>
</script>